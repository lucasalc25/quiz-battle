{% extends "base.html" %}{% block content %}
<h2>Ranking</h2>

{% if just_added %}
<div class="banner">VocÃª entrou no ranking!</div>
{% endif %} {% if promoted_nick %}
<div class="banner">
  ParabÃ©ns! VocÃª subiu {{ positions_up }} posiÃ§{{ 'Ãµes' if positions_up > 1 else
  'Ã£o'}} e agora estÃ¡ em <strong>{{ new_rank }}Âº</strong>!
</div>
{% endif %}

<ol class="rank-list">
  {% for r in rows %}
  <li
    class="{% if (just_added and r.nickname == just_added) or (promoted_nick and r.nickname == promoted_nick) %}new-entry{% endif %}"
  >
    {% if loop.index == 1 %} ðŸ¥‡ {% elif loop.index == 2 %} ðŸ¥ˆ {% elif loop.index
    == 3 %} ðŸ¥‰ {% endif %} {{ r.nickname }} â€” {{ r.best_score }} pontos
  </li>
  {% endfor %}
</ol>

<a href="/" class="button" style="margin-top: 2rem">InÃ­cio</a>

<style>
  :root[data-theme="light"] {
    --banner-bg: #105c8fc2;
    --banner-border: #00e1ff;
    --banner-text: #00e1ff;

    --rank-highlight-bg: #20b3e03b;
    --rank-highlight-shadow: rgba(59, 130, 246, 0.25);
  }

  :root[data-theme="dark"] {
    --banner-bg: #14532d;
    --banner-border: #22c55e;
    --banner-text: #86efac;

    --rank-highlight-bg: #22eed320;
    --rank-highlight-shadow: rgba(59, 246, 130, 0.4);
  }

  /* Faixa de entrada no ranking */
  .banner {
    background: var(--banner-bg);
    border: 1px solid var(--banner-border);
    color: var(--banner-text);
    padding: 10px 12px;
    border-radius: 10px;
    margin: 10px 0 16px;
    text-align: center;
  }

  /* Destaque na linha do jogador */
  .rank-list .new-entry {
    position: relative;
    animation: pulseIn 1.2s ease-out 0s 1;
    background: var(--rank-highlight-bg);
    border-radius: 8px;
  }

  @keyframes pulseIn {
    0% {
      transform: scale(0.97);
      box-shadow: 0 0 0 0 var(--rank-highlight-shadow);
    }
    60% {
      transform: scale(1.2);
      box-shadow: 0 0 0 10px var(--rank-highlight-shadow);
    }
    100% {
      transform: scale(1);
      box-shadow: 0 0 0 0 var(--rank-highlight-shadow);
    }
  }
</style>

{% endblock %}
